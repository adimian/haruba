<div>
  <div class="container">
  	<div class="header-menu">
  	  <div class="app-name">Haruba</div>
  	  <div class="header-menu-item" data-bind="click: $root.logout">
  	    <span class="glyphicon glyphicon glyphicon-off"></span> logout
  	  </div>
  	  <div class="header-menu-item" data-bind="click: $root.load_admin">
  	    <span class="glyphicon glyphicon glyphicon-cog"></span> Admin
  	  </div>
  	</div>
    <div class="menu" data-bind="with: zones">
        <div data-bind="foreach: $data">
	    	<div class="menu-item" data-bind="text: zone, 
	    									  attr: { 'data-access': access },
	    									  css: { 'menu-item-selected': zone == $root.selected_zone_name() },
	    									  click: $root.load_zone"></div>
	    </div>
	</div>
    <div class="content">
		<div class="breadcrumbs" data-bind="with: breadcrumbs">
   		  <div data-bind="foreach: $data">
   		    <div class="breadcrumb breadcrumb-seperator">></div>
   		    <div class="breadcrumb breadcrumb-item" data-bind="text: name,
   		    												   click: $root.go_to_breadcrumb"></div>
   		  </div>
   		</div>
	   	<div class="listing" data-bind="visible: !!$root.selected_zone()">
	   		<div class="commands">
			    <div class="input-group search-bar">
				  <span class="input-group-addon" id="basic-addon1"><span class="glyphicon glyphicon-search"></span></span>
				  <input id="searchbar" type="text" class="form-control" placeholder="Search..." aria-describedby="basic-addon1" data-bind="value: $root.query, valueUpdate: 'keyup',
				  																											                event: {focus: $root.init_search}">
				</div>
	   			<div class="dropdown" data-bind="with: $root.options">
				  <div id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
				  	<span class="glyphicon glyphicon-option-vertical" aria-hidden="true"></span>Options
				  </div>
				  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1" id="actual_ddl" data-bind="foreach: $data">
				  	<li data-bind="click: click_handler,
				  	               visible: can_show($root.has_read, $root.has_write)">
				  	  <a href="#">
				  	    <span data-bind="css: glyph_icon"></span>
				  	    <span data-bind="text: text"></span>
				  	    <span class="hotkey" data-bind="text: hotkey"></span>
				  	  </a>
				  	</li>
				  	<li role="separator" class="divider" data-bind="visible: divider && can_show($root.has_read, $root.has_write)"></li>
				  </ul>
				</div>
	   		</div>
	   		<div></div>
	   		<div class="list-row header-row">
	   		  <div class="header-item width-5">&nbsp;</div>
	   		  <div class="header-item width-70" data-sortkey="name" data-bind="click: $root.sort_items">Name</div>
	   		  <div class="header-item width-10" data-sortkey="size" data-bind="click: $root.sort_items">Size</div>
	   		  <div class="header-item width-15" data-sortkey="modif_date" data-bind="click: $root.sort_items">Modified</div>
	   		</div>
	   		<div id="folder-content" data-bind="with: folder">
	   		  <div data-bind="foreach: $data">
		   		<div class="list-row" data-bind="css: { folder: is_dir,
		   												selected_item: ($root.selected_items.indexOf($data) != -1) },
		   										        click: $root.select_item">
		   	      <div class="row-item width-5 icon">
		   	        <img data-bind="attr: { src: 'icons/32px/' + extension + '.png'}"
		   	          onerror="this.onerror=null;this.src='icons/32px/_blank.png';" />
		   	      </div>
		   		  <div class="row-item width-70">
		   		    <div class="file_name" data-bind="text: name,
		   										 	  click: is_dir ? $root.go_to_folder : null,
		   										 	  clickBubble: false"></div>
		   		    <div class="row_actions" data-bind="foreach: $root.row_options">
		   		   	  <span data-bind="click: click_handler.bind($data, $parent, event), 
		   		   	                   clickBubble: false, 
		   		   	                   css: glyph_icon, 
		   		   	                   text: text, 
		   		   	                   visible: can_show($root.has_read, $root.has_write, $parent)"></span>
		   		    </div>
		   		  </div>
		   		  <div class="row-item width-10 mild" data-bind="text: size"></div>
		   		  <div class="row-item width-15 mild" data-bind="text: modif_date">modified</div>
		   	    </div>
		   	  </div>
			  <div class='row_action_box'></div>
		   	</div>
	   	</div>
	 </div>
  </div>
</div>
<div class="upload-marker"><span>Upload</span></div>
<script src="js/appviewmodel.js"></script>
<script src="js/dragdrop.js"></script>
<script>
ko.cleanNode($('html')[0]);
ko.applyBindings(zvm);
attach_bindings();
</script>